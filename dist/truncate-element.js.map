{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/truncate-element.ts"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","TruncateElement","HTMLElement","super","_highlightQuery","config","number","more","less","completeWord","hashtag","hasLiteral","highlightCondition","highlightList","color","text","replace","connectedLoaded","dataLoaded","tempHtml","MutationObserver","this","initialValues","observe","characterData","childList","attributes","attrName","_oldVal","_newVal","innerHTML","conf","getAttribute","length","JSON","parse","sort","a","b","instanceOfHighlighQuery","fill","remainText","applyCondition","highlight","span","document","createElement","style","cursor","classList","add","addEventListener","event","showFullText","hideSomeText","appendChild","findHashtag","whiteSpace","mouseDown","fullText","stopPropagation","temp","content","highlightQuery","q","pattern","RegExp","match","words","word","substring","manipulatedText","checkWordCut","customElements","define"],"mappings":"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","file":"truncate-element.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","import { HighlighQuery, Config } from \"./interfaces\";\r\nexport { Config, HighlighQuery } from \"./interfaces\"\r\n\r\nexport class TruncateElement extends HTMLElement {\r\n    _highlightQuery: Array<HighlighQuery | string> = [];\r\n    config: Config = {\r\n        number: 0,\r\n        more: \"\",\r\n        less: \"\",\r\n        completeWord: false,\r\n        hashtag: false,\r\n        hasLiteral: false,\r\n        highlightCondition: 'exactly',\r\n        highlightList: [{ name: '', color: '' }],\r\n    };\r\n    number: number = 100;\r\n    more: string = \"show\";\r\n    less: string = \"hide\";\r\n    completeWord: boolean = false;\r\n    hashtag: boolean = false;\r\n    hasLiteral: boolean = false;\r\n    highlightCondition: string = 'exactly';\r\n    highlightList: HighlighQuery[] = [{ name: '', color: '' }];\r\n    text: string = \"\"\r\n    replace: boolean = false;\r\n\r\n    connectedLoaded = false;\r\n    dataLoaded = false;\r\n    tempHtml = \"\";\r\n\r\n    constructor() {\r\n        super();\r\n\r\n        const observer = new MutationObserver(() => {\r\n            if (this.connectedLoaded && !this.dataLoaded) {\r\n                this.initialValues();\r\n            }\r\n        });\r\n        // call 'observe' on that MutationObserver instance, \r\n        // passing it the element to observe, and the options object\r\n        observer.observe(this, { characterData: false, childList: true, attributes: false });\r\n    }\r\n\r\n    private instanceOfHighlighQuery(object: any): object is HighlighQuery {\r\n        return typeof object === 'string' ? false : 'name' in object;\r\n    }\r\n\r\n    connectedCallback() {\r\n        this.initialValues();\r\n        this.connectedLoaded = true;\r\n    }\r\n\r\n    attributeChangedCallback(attrName: string, _oldVal: any, _newVal: any) {\r\n        if (this.connectedLoaded) {\r\n            this.initialValues(attrName);\r\n        }\r\n    }\r\n\r\n    static get observedAttributes() {\r\n        return ['config'];\r\n    }\r\n\r\n    private initialValues(attrName: string = \"config\") {\r\n\r\n        if (!this.innerHTML) {\r\n            return;\r\n        }\r\n        if (!this.tempHtml) {\r\n            this.tempHtml = this.innerHTML;\r\n        }\r\n\r\n        const conf = this.getAttribute(attrName);\r\n        if (conf?.length) {\r\n            this.config = JSON.parse(conf);\r\n            this.number = this.config.number ? this.config.number : this.number;\r\n            this.more = this.config.more ? this.config.more : this.more;\r\n            this.less = this.config.less ? this.config.less : this.less;\r\n            this._highlightQuery = this.config.highlightList;\r\n            this.highlightCondition = this.config.highlightCondition;\r\n            this.completeWord = this.config.completeWord;\r\n            this.hashtag = this.config.hashtag;\r\n            this.hasLiteral = this.config.hasLiteral;\r\n        }\r\n        else\r\n            return;\r\n\r\n        if (this._highlightQuery && this._highlightQuery.length)\r\n            this._highlightQuery.sort((a: HighlighQuery | string, b: HighlighQuery | string): number => {\r\n                if (this.instanceOfHighlighQuery(a) && this.instanceOfHighlighQuery(b)) {\r\n                    if (a.name && b.name)\r\n                        return a.name.length - b.name.length;\r\n                }\r\n                else if (typeof a === 'string' && this.instanceOfHighlighQuery(b)) {\r\n                    if (b.name)\r\n                        return a.length - b.name.length;\r\n                }\r\n                else if (this.instanceOfHighlighQuery(b) && typeof a === 'string') {\r\n                    if (b.name)\r\n                        return a.length - b.name.length;\r\n                }\r\n                else if (typeof b === 'string' && typeof a === 'string') {\r\n                    return a.length - b.length\r\n                }\r\n                else\r\n                    return 0;\r\n                return 0;\r\n            });\r\n        this.fill(this.tempHtml);\r\n        this.dataLoaded = true;\r\n    }\r\n\r\n    fill(text: string) {\r\n        if (!this.hasLiteral) text = text.replace(/(\\r\\n\\t|\\n|\\r\\t)/gm, ' ');\r\n        this.text = text;\r\n        let remainText = \"\";\r\n        if (text.length > this.number) {\r\n            remainText = this.applyCondition(text, this.number, this.completeWord, this.hashtag);\r\n            remainText = this.highlight(remainText, this.highlightCondition, this._highlightQuery);\r\n            // برای نمایش ادامه یا پنهان\r\n            this.replace = true;\r\n            this.innerHTML = remainText + ' ... ';\r\n            const span = document.createElement('span');\r\n            span.innerHTML = this.more;\r\n            span.style.color = '#ff00ff';\r\n            span.style.cursor = 'pointer';\r\n            span.classList.add(\"toggleText\");\r\n            this.innerHTML = remainText + \"... \";\r\n\r\n            span.addEventListener('click', (event) => this.replace === true ? this.showFullText(event) : this.hideSomeText(event));\r\n            this.appendChild(span);\r\n        }\r\n        else {\r\n            text = this.hashtag ? this.findHashtag(text) : text;\r\n            text = this.highlight(text, this.highlightCondition, this._highlightQuery);\r\n            this.innerHTML = text;\r\n        }\r\n        //اعمال شود این کلاس قرار داده می شود  html در \\n برای اینکه کاراکتر های\r\n        if (this.hasLiteral)\r\n            this.style.whiteSpace = 'pre-line';\r\n    }\r\n\r\n    /*\r\n     * نمایش کامل متن\r\n     * @param mouseDown {mousedown} mouse event\r\n     */\r\n    showFullText(mouseDown: MouseEvent) {\r\n        const span = document.createElement('span');\r\n        span.innerHTML = \" \" + this.less;\r\n        span.style.color = '#ff00ff';\r\n        span.style.cursor = 'pointer';\r\n        span.classList.add(\"toggleText\");\r\n        let fullText = this.hashtag ? this.findHashtag(this.text) : this.text;\r\n        this.innerHTML = this.highlight(fullText, this.highlightCondition, this._highlightQuery);\r\n        //اعمال شود این کلاس قرار داده می شود  html در \\n برای اینکه کاراکتر های\r\n        if (this.hasLiteral)\r\n            this.style.whiteSpace = 'pre-line';\r\n\r\n        span.addEventListener('click', (event) => this.hideSomeText(event));\r\n        this.appendChild(span);\r\n        // جلوگیری از کلیک روی عنصر پدر\r\n        mouseDown.stopPropagation();\r\n        this.replace = false;\r\n    }\r\n    /*\r\n     * نمایش قسمتی از متن بر اساس تعداد کاراکتر خواسته شده\r\n     * @param mouseDown {mousedown} mouse event\r\n     */\r\n    hideSomeText(mouseDown: MouseEvent) {\r\n        const temp = this.applyCondition(this.text, this.number, this.completeWord, this.hashtag);\r\n        const remainText = this.highlight(temp, this.highlightCondition, this._highlightQuery);\r\n\r\n        const span = document.createElement('span');\r\n        span.style.color = '#ff00ff';\r\n        span.classList.add(\"toggleText\")\r\n\r\n        span.innerHTML = this.more;\r\n        this.innerHTML = remainText + ' ... ';\r\n        //اعمال شود این کلاس قرار داده میشود  html در  n \\برای اینکه کاراکتر های\r\n        if (this.hasLiteral)\r\n            this.style.whiteSpace = 'pre-line';\r\n\r\n        span.addEventListener('click', (event) => this.showFullText(event));\r\n        this.appendChild(span);\r\n        // جلوگیری از کلیک روی عنصر پدر\r\n        mouseDown.stopPropagation();\r\n        this.replace = true;\r\n    }\r\n\r\n\r\n\r\n    /**\r\n     * رنگ کردن کلمات داده شده در متن\r\n     * @param content\r\n     */\r\n    highlight(content: string, highlightCondition = \"\", highlightQuery: Array<HighlighQuery | string>) {\r\n        //روی دایرکتیو تعریف نشود خود متن را بر می کرداند highlightList اگر ورودی\r\n        if (!highlightQuery || !highlightQuery.length) {\r\n            return content;\r\n        }\r\n        // دقیقا یافت می شود  highlightList روی دایرکتیو تعریف نشود کلمات داده شده در highlightCondition اگر ورودی\r\n        if (highlightCondition == \"exactly\") {\r\n            for (let q of highlightQuery) {\r\n                let pattern = '';\r\n                //به صورت آبجکت باشند highlightList اگر کلمات داده شده در\r\n                if (typeof q !== 'string') {\r\n                    pattern = \"(^|(?<!\\\\p{L}))(\" + q.name + \")(?!(\\\\p{L}))\";\r\n                    const color = q.color ? q.color : 'yellow';\r\n                    content = content.replace(new RegExp(pattern, 'gmu'), match => {\r\n                        return `<span style=\"background:${color}\">${match}</span>`;\r\n                    });\r\n                }\r\n                //به صورت رشته باشند highlightList اگر کلمات داده شده در\r\n                else {\r\n                    pattern = \"(^|(?<!\\\\p{L}))(\" + q + \")(?!(\\\\p{L}))\";\r\n                    content = content.replace(new RegExp(pattern, 'gmu'), match => {\r\n                        return `<span style=\"background:yellow\">${match}</span>`;\r\n                    });\r\n                }\r\n            }\r\n            return content;\r\n        }\r\n        //هر مشابهی از کلمات در متن پیدا شده و رنگ می شوند\r\n        else {\r\n            for (let q of highlightQuery) {\r\n                //به صورت آبجکت باشند highlightList اگر کلمات داده شده در\r\n                if (typeof q !== 'string' && q.name) {\r\n                    let words = content.match(new RegExp(q.name, \"gmi\"));\r\n                    if (words)\r\n                        for (const word of words) {\r\n                            const color = q.color ? q.color : 'yellow';\r\n                            content = content.replace(new RegExp(q.name, \"gmi\"), `<span style=\"background-color:${color}\">${word}</span>`);\r\n                        }\r\n                }\r\n                //به صورت رشته باشند highlightList اگر کلمات داده شده در\r\n                else {\r\n                    if (typeof q === 'string') {\r\n                        let words = content.match(new RegExp(q, \"gmi\"));\r\n                        if (words)\r\n                            for (const word of words) {\r\n                                content = content.replace(new RegExp(q, \"gmi\"), `<span style=\"background-color:yellow\">${word}</span>`);\r\n                            }\r\n                    }\r\n                }\r\n            }\r\n            return content;\r\n        }\r\n    }\r\n\r\n    /** check the word cut */\r\n    checkWordCut(number: number, text: string) {\r\n        let i = 0\r\n        for (i = number; i < text.length; i++) {\r\n            if (text[i] == ' ') break;\r\n        }\r\n        return text.substring(0, i);\r\n    }\r\n\r\n    /** find hashtag from text */\r\n    findHashtag(text: string) {\r\n        text = text.replace(/(^|\\s)(#[\\p{Pc}\\p{N}\\p{L}\\u200cÀ-ÖØ-öø-ʸ(_)]+)/ugmi, (match) => {\r\n            return `<span class=\"hashtag\" style=\"color:#1b95e0\">${match}</span>`;\r\n        });\r\n        return text;\r\n    }\r\n\r\n    /** check conditions and return text with them */\r\n    applyCondition(text: string, number: number, completeWord: boolean = false, hashtag: boolean = false) {\r\n        let manipulatedText = \"\";\r\n        if (completeWord && hashtag) {\r\n            const temp = this.checkWordCut(number, text);\r\n            manipulatedText = this.findHashtag(temp);\r\n        }\r\n        else if (completeWord) {\r\n            manipulatedText = this.checkWordCut(number, text);\r\n        }\r\n        else if (hashtag) {\r\n            const temp = text.substring(0, number);\r\n            manipulatedText = this.findHashtag(temp);\r\n        }\r\n        else {\r\n            manipulatedText = text.substring(0, number);\r\n        }\r\n        return manipulatedText;\r\n    }\r\n\r\n}\r\ncustomElements.define('truncate-element', TruncateElement);\r\n\r\n"],"sourceRoot":""}